<!DOCTYPE html>
<html>
<head>
  <title>Add Product - Ders Aktif Ã–dev Page 2</title>
</head>
<body>
  
    <h1>Add Product</h1>
  
    <form id="product-form">
    <label for="name">Product Name:</label>
    <input type="text" id="name" name="name" required><br>

    <label for="unitPrice">Unit Price:</label>
    <input type="number" id="unitPrice" name="unitPrice" required><br>

    <label for="stock">Stock:</label>
    <input type="number" id="stock" name="stock" required><br>

    <button type="button" id="addButton">Add</button>
  </form>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  
  <script>
    const addButton = document.getElementById('addButton');
    const productForm = document.getElementById('product-form');

    addButton.addEventListener('click', function () {
      const name = document.getElementById('name').value;
      const unitPrice = document.getElementById('unitPrice').value;
      const stock = document.getElementById('stock').value;

      const newProduct = {
        productName: name,
        unitPrice: parseFloat(unitPrice),
        unitsInStock: parseInt(stock)
      };

      axios.post('https://northwind.vercel.app/api/products', newProduct)
        .then(function (response) {
          alert('Product added successfully.');
          productForm.reset();
        })
        .catch(function (error) {
          console.error('An error occurred while adding the product:', error);
        });
    });
  
  </script>
</body>
</html>
